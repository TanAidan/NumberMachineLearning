<!DOCTYPE html> 
<html>
<head>
<meta charset = "utf-8">
<title>Display Webcam Stream</title> 

<style> 
#container {
	margin: 0px auto;
	width: 500px;
	height: 375px;
	border: 10px #BB4EDC solid;
}

#videoElement {
	width: 500px;
	height: 375px;
	background-color: #666;
}

</style>
</head>

<body>
<div id="container">
	<video autoplay="true" id="videoElement">
	
	</video>
	<button id="stop">Stop
	</button>
</div>
<script>
var video = document.querySelector("#videoElement");
var stop = document.querySelector("#stop");

if (navigator.mediaDevices.getUserMedia){
	navigator.mediaDevices.getUserMedia ({video : true})
	.then(function(stream){
		video.srcObject = stream;
		var mediaRecorder = new MediaRecorder(stream);
		mediaRecorder.start(2000);
		console.log(mediaRecorder.state);
		console.log("recorder started");
		stop.onclick = function(){
			mediaRecorder.stop();
			console.log("recorder stopped");
		}
		mediaRecorder.ondataavailable = function(e){
			console.log(e);
			console.log(e.data.size);
			
		}
	})
	.catch(function (err0r){
		console.log("Something went wrong!");
	});
}

</script>
</body>

</html>